p8105_hw1_sdc2157
================
Stephanie Calluori
2023-10-04

``` r
library(tidyverse)
library(readxl)
```

# Importing Data

``` r
pols_month_raw <- 
  read_csv("data/pols-month.csv")
head(pols_month_raw)
sum(is.na(pols_month_raw))

snp_raw <-
  read_csv("data/snp.csv")
head(snp_raw)
sum(is.na(snp_raw))

unemployment_raw <-
  read_csv("data/unemployment.csv")
head(unemployment_raw)
sum(is.na(unemployment_raw))

mr_trash_raw <-
  read_excel("data/202207 Trash Wheel Collection Data.xlsx", sheet = 1, range = "A2:N549")
head(mr_trash_raw)

prof_trash_raw <-
  read_excel("data/202207 Trash Wheel Collection Data.xlsx", sheet = 2, range = "A2:M96")
head(prof_trash_raw)

gwyn_trash_raw <-
  read_excel("data/202207 Trash Wheel Collection Data.xlsx", sheet = 4, range = "A2:K108")
head(gwyn_trash_raw)

mci_amyloid_raw <-
  read_csv("data/mci_amyloid.csv")
head(mci_amyloid_raw)

mci_baseline_raw <- 
  read_csv("data/MCI_baseline.csv")
head(mci_baseline_raw)
```

# Problem 1 - Under REVISION

``` r
month_df = 
  tibble(
    month_num = 1:12,
    month = c("jan", "feb", "mar", "apr", "may", "june", "july", "aug", "sept", "oct", "nov", "dec")
  )

pols_month_df <- pols_month_raw |>
  janitor::clean_names() |> 
  separate(mon, c("year", "month_num", "day"), "-", convert = TRUE) |> 
  mutate(prez = recode(
      prez_dem, 
      "0" = "gop", 
      "1" = "dem")) |> 
  left_join(x = _, y = month_df, by = "month_num") |> 
  select(year, month, everything(), -month_num, -day, -prez_gop, -prez_dem)

head(pols_month_df)
```

    ## # A tibble: 6 × 9
    ##    year month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem prez 
    ##   <int> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>
    ## 1  1947 jan        23      51     253      23      45     198 dem  
    ## 2  1947 feb        23      51     253      23      45     198 dem  
    ## 3  1947 mar        23      51     253      23      45     198 dem  
    ## 4  1947 apr        23      51     253      23      45     198 dem  
    ## 5  1947 may        23      51     253      23      45     198 dem  
    ## 6  1947 june       23      51     253      23      45     198 dem

``` r
snp_df <- snp_raw |>
  janitor::clean_names() |> 
  mutate(date = lubridate::mdy(date)) |> 
  separate(date, c("year", "month_num", "day"), "-", convert = TRUE) |> 
  left_join(x = _, y = month_df, by = "month_num") |> 
  select(year, month, close, -month_num, -day)

head(snp_df)
```

    ## # A tibble: 6 × 3
    ##    year month close
    ##   <int> <chr> <dbl>
    ## 1  2015 july  2080.
    ## 2  2015 june  2063.
    ## 3  2015 may   2107.
    ## 4  2015 apr   2086.
    ## 5  2015 mar   2068.
    ## 6  2015 feb   2104.

``` r
unemployment_df <- unemployment_raw |> 
  janitor::clean_names() |> 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "percent_unemployed"
  )

head(unemployment_df)
```

    ## # A tibble: 6 × 3
    ##    year month percent_unemployed
    ##   <dbl> <chr>              <dbl>
    ## 1  1948 jan                  3.4
    ## 2  1948 feb                  3.8
    ## 3  1948 mar                  4  
    ## 4  1948 apr                  3.9
    ## 5  1948 may                  3.5
    ## 6  1948 jun                  3.6

# Problem 2

``` r
mr_trash_df <- mr_trash_raw |> 
  janitor::clean_names() |> 
  rename(volume_cubic_yds = volume_cubic_yards, homes_powered_old = homes_powered) |> 
  mutate(wheel = "mr_trash",
         homes_powered = weight_tons*500/30) |> 
  pivot_longer(
    plastic_bottles:sports_balls,
    names_to = "trash_type",
    values_to = "amount_collected") |> 
  select(wheel, everything(), -homes_powered_old)

  
head(mr_trash_df)
```

    ## # A tibble: 6 × 10
    ##   wheel    dumpster month year  date                weight_tons volume_cubic_yds
    ##   <chr>       <dbl> <chr> <chr> <dttm>                    <dbl>            <dbl>
    ## 1 mr_trash        1 May   2014  2014-05-16 00:00:00        4.31               18
    ## 2 mr_trash        1 May   2014  2014-05-16 00:00:00        4.31               18
    ## 3 mr_trash        1 May   2014  2014-05-16 00:00:00        4.31               18
    ## 4 mr_trash        1 May   2014  2014-05-16 00:00:00        4.31               18
    ## 5 mr_trash        1 May   2014  2014-05-16 00:00:00        4.31               18
    ## 6 mr_trash        1 May   2014  2014-05-16 00:00:00        4.31               18
    ## # ℹ 3 more variables: homes_powered <dbl>, trash_type <chr>,
    ## #   amount_collected <dbl>

``` r
prof_trash_df <- prof_trash_raw |> 
  janitor::clean_names() |> 
  rename(volume_cubic_yds = volume_cubic_yards, homes_powered_old = homes_powered) |> 
  mutate(wheel = "prof_trash",
         homes_powered = weight_tons*500/30) |> 
  pivot_longer(
    plastic_bottles:chip_bags,
    names_to = "trash_type",
    values_to = "amount_collected") |> 
  select(wheel, everything(), -homes_powered_old)
```

``` r
gwyn_trash_df <- gwyn_trash_raw |> 
  janitor::clean_names() |> 
  rename(volume_cubic_yds = volume_cubic_yards, homes_powered_old = homes_powered) |> 
  mutate(wheel = "gwynnda_trash",
         homes_powered = weight_tons*500/30) |> 
  pivot_longer(
    plastic_bottles:plastic_bags,
    names_to = "trash_type",
    values_to = "amount_collected") |> 
  select(wheel, everything(), -homes_powered_old)

  
head(gwyn_trash_df)
```

    ## # A tibble: 6 × 10
    ##   wheel    dumpster month  year date                weight_tons volume_cubic_yds
    ##   <chr>       <dbl> <chr> <dbl> <dttm>                    <dbl>            <dbl>
    ## 1 gwynnda…        1 July   2021 2021-07-03 00:00:00        0.93               15
    ## 2 gwynnda…        1 July   2021 2021-07-03 00:00:00        0.93               15
    ## 3 gwynnda…        1 July   2021 2021-07-03 00:00:00        0.93               15
    ## 4 gwynnda…        1 July   2021 2021-07-03 00:00:00        0.93               15
    ## 5 gwynnda…        2 July   2021 2021-07-07 00:00:00        2.26               15
    ## 6 gwynnda…        2 July   2021 2021-07-07 00:00:00        2.26               15
    ## # ℹ 3 more variables: homes_powered <dbl>, trash_type <chr>,
    ## #   amount_collected <dbl>

``` r
trash_wheels_df <- rbind(mr_trash_df, prof_trash_df, gwyn_trash_df)

view(trash_wheels_df)
```

``` r
gywn_cig <-
  trash_wheels_df |> 
  filter(wheel == "gwynnda_trash" & month == "July" & year == "2021" & trash_type == "cigarette_butts") |>
  summarize(total_cigs = sum(amount_collected))
```

Write a paragraph about these data; you are encouraged to use inline R.
Be sure to note the number of observations in the resulting dataset, and
give examples of key variables. For available data, what was the total
weight of trash collected by Professor Trash Wheel? What was the total
number of cigarette butts collected by Gwynnda in July of 2021?
